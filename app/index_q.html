<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" ng-app="myApp" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>My AngularJS App</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="bower_components/html5-boilerplate/css/normalize.css">
  <link rel="stylesheet" href="bower_components/html5-boilerplate/css/main.css">
  <link rel="stylesheet" href="app.css">
  <script src="bower_components/html5-boilerplate/js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>
  <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
  <![endif]-->


  <div>Kii promises example</div>
  <form id="userForm">
    <label>Username</label>
    <input type="text" id="name"/>
    <label>Password</label>
    <input type="password" id="password"/>
  </form>
  <button onclick="createUser()">Create user</button>

  <!-- jquery -->
  <script src="bower_components/jquery/dist/jquery.js"></script>
  <!-- Q -->
  <script src="bower_components/q/q.js"></script>
  <!--Kii SDK-->
  <script src="bower_components/kii-cloud-sdk/KiiSDK.js"></script>
  <!-- Patch -->
  <script src="bower_components/kii-angular-patch/kii-angular-patch.js"></script>
  
  <script type="text/javascript">

  Kii.initializeWithSite("b1a880b6", "e3f8c4af340176620df9b7f517920646", KiiSite.US);

  function createUser() {
    var username = $("#name").val();
    var password = $("#password").val();
    var user = KiiUser.userWithUsername(username, password);
    user.register().then(
      function(data) {
        alert('You created a new object for' + JSON.stringify(data));
      },
      function(error,errorString) {
        alert('Error' + JSON.stringify(error));
      }
    );
  }


  </script>
</body>
</html>